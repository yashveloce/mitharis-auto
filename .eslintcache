[{"D:\\Mitharis\\my-app\\src\\index.js":"1","D:\\Mitharis\\my-app\\src\\reportWebVitals.js":"2","D:\\Mitharis\\my-app\\src\\App.js":"3","D:\\Mitharis\\my-app\\src\\Components\\Body.js":"4","D:\\Mitharis\\my-app\\src\\Components\\Navbar.js":"5","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Insurance_Registration.js":"6","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Enquiry_Generation.js":"7","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Dashboard.js":"8","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Transaction.js":"9","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Vehicle_Registration.js":"10","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\RTO_Agent.js":"11","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Stolen.js":"12","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\Sales_Report.js":"13","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\Commision_Report.js":"14","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\Insurance_Report.js":"15","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\Vehicle_History.js":"16","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\PaperWork.js":"17","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Utilities\\Customer.js":"18","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Utilities\\RTO_Agent_Numbers.js":"19","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Utilities\\Third_Party_Agent.js":"20","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Vehicle_Master.js":"21"},{"size":542,"mtime":1631171700699,"results":"22","hashOfConfig":"23"},{"size":362,"mtime":1631123112000,"results":"24","hashOfConfig":"23"},{"size":1317,"mtime":1631171219513,"results":"25","hashOfConfig":"23"},{"size":3327,"mtime":1631171079233,"results":"26","hashOfConfig":"23"},{"size":9174,"mtime":1631170866606,"results":"27","hashOfConfig":"23"},{"size":11089,"mtime":1631603025491,"results":"28","hashOfConfig":"23"},{"size":146,"mtime":1631124934000,"results":"29","hashOfConfig":"23"},{"size":187,"mtime":1631123112000,"results":"30","hashOfConfig":"23"},{"size":19869,"mtime":1631524586058,"results":"31","hashOfConfig":"23"},{"size":148,"mtime":1631124934000,"results":"32","hashOfConfig":"23"},{"size":137,"mtime":1631604476777,"results":"33","hashOfConfig":"23"},{"size":9036,"mtime":1631596411763,"results":"34","hashOfConfig":"23"},{"size":140,"mtime":1631124982000,"results":"35","hashOfConfig":"23"},{"size":144,"mtime":1631127122000,"results":"36","hashOfConfig":"23"},{"size":144,"mtime":1631125000000,"results":"37","hashOfConfig":"23"},{"size":143,"mtime":1631124964000,"results":"38","hashOfConfig":"23"},{"size":137,"mtime":1631125016000,"results":"39","hashOfConfig":"23"},{"size":2260,"mtime":1631615549451,"results":"40","hashOfConfig":"23"},{"size":7021,"mtime":1631613100666,"results":"41","hashOfConfig":"23"},{"size":6832,"mtime":1631614921705,"results":"42","hashOfConfig":"23"},{"size":7583,"mtime":1631517076391,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"l2uyve",{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"46"},"D:\\Mitharis\\my-app\\src\\index.js",[],["89","90"],"D:\\Mitharis\\my-app\\src\\reportWebVitals.js",[],"D:\\Mitharis\\my-app\\src\\App.js",[],"D:\\Mitharis\\my-app\\src\\Components\\Body.js",[],"D:\\Mitharis\\my-app\\src\\Components\\Navbar.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Insurance_Registration.js",["91","92","93","94","95","96","97","98"],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Enquiry_Generation.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Dashboard.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Transaction.js",["99","100","101"],"import React,{useState} from 'react';\r\nimport {\r\n    useQuery,\r\n    gql,\r\n    useSubscription,\r\n    useMutation\r\n  } from \"@apollo/client\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';       \r\n\r\nconst StockQuery=gql`\r\nquery MyQuery {\r\n  stock {\r\n    accidental\r\n    average\r\n    bank\r\n    bank_loan\r\n    vehicle_no\r\n    id\r\n  }\r\n}\r\n`\r\n\r\nconst SellerQuery=gql`\r\nquery MyQuery {\r\n  seller {\r\n    address\r\n    adhaar\r\n    email\r\n    id\r\n    licence\r\n    mobile_no\r\n    name\r\n    occupation\r\n    pan\r\n    photo\r\n    vehicle_master\r\n  }\r\n}\r\n`\r\nconst BuyerQuery=gql`\r\nquery MyQuery {\r\n  buyer {\r\n    customer_type\r\n    email\r\n    id\r\n    mobile_no\r\n    name\r\n  }\r\n}\r\n`\r\n\r\nconst TransactionQuery=gql`\r\nsubscription MySubscription {\r\n  transaction {\r\n    advance_amount\r\n    amount_paid\r\n    buyer\r\n    buyer_commission\r\n    id\r\n    pending_amount\r\n    reg_date\r\n    rto_commission\r\n    seller\r\n    seller_commission\r\n    vehicle\r\n    transaction_date\r\n    sellerBySeller {\r\n      name\r\n    }\r\n    buyerByBuyer {\r\n      name\r\n    }\r\n    stock {\r\n      vehicle_no\r\n    }\r\n  }\r\n} \r\n`\r\n\r\nconst UPDATE_TRANSACTION=gql`\r\n  mutation MyMutation2($id:Int!,$advance_amount:bigint!,$amount_paid:bigint!,$buyer:Int!,$buyer_commission:bigint!,$pending_amount:bigint!,$reg_date:date!,$rto_commission:bigint!,$seller:Int!,$seller_commission:bigint!,$transaction_date:date!,$vehicle:Int!){\r\n    update_transaction_by_pk(pk_columns: {id: $id}, _set: {advance_amount: $advance_amount, amount_paid: $amount_paid, buyer: $buyer, buyer_commission: $buyer_commission, pending_amount: $pending_amount, vehicle: $vehicle, transaction_date: $transaction_date, seller_commission: $seller_commission, seller: $seller, rto_commission: $rto_commission, reg_date: $reg_date}) {\r\n      id\r\n    }\r\n  }`\r\n\r\nconst INSERT_TRANSACTION=gql`\r\nmutation MyMutation($advance_amount:bigint!,$amount_paid:bigint!,$buyer:Int!,$buyer_commission:bigint!,$pending_amount:bigint!,$reg_date:date!,$rto_commission:bigint!,$seller:Int!,$seller_commission:bigint!,$transaction_date:date!,$vehicle:Int!){\r\n  insert_transaction_one(object: {advance_amount: $advance_amount, amount_paid: $amount_paid, buyer: $buyer, buyer_commission: $buyer_commission, pending_amount: $pending_amount, reg_date: $reg_date, rto_commission: $rto_commission, seller: $seller, seller_commission: $seller_commission, transaction_date: $transaction_date, vehicle: $vehicle}) {\r\n    id\r\n  }\r\n}\r\n`\r\nconst DELETE_TRANSACTION=gql`\r\nmutation MyMutation($id: Int!) {\r\n  delete_transaction_by_pk(id: $id) {\r\n    id\r\n  }\r\n}\r\n  `\r\n\r\n\r\nfunction Transaction()\r\n{   \r\n    const [showModal, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const [transaction,setTransaction] = useState({\r\n      seller:\"\",\r\n      buyer:\"\",\r\n      seller_commission:\"\",\r\n      buyer_commission:\"\",\r\n      advance_amount:\"\",\r\n      amount_paid:\"\",\r\n      pending_amount:\"\",\r\n      rto_commission:\"\",\r\n      reg_date:\"\",\r\n      transaction_date:\"\",\r\n      vehicle:\"\"\r\n    })\r\n    const [modalTransaction,setModalTransaction] = useState({\r\n      id:\"\",\r\n      seller:\"\",\r\n      buyer:\"\",\r\n      seller_commission:\"\",\r\n      buyer_commission:\"\",\r\n      advance_amount:\"\",\r\n      amount_paid:\"\",\r\n      pending_amount:\"\",\r\n      rto_commission:\"\",\r\n      reg_date:\"\",\r\n      transaction_date:\"\",\r\n      vehicle:\"\"\r\n    })\r\n\r\n    const onInputChange=(e)=>{\r\n      setTransaction({...transaction,[e.target.name]:e.target.value})\r\n    }\r\n    const onModalInputChange=(e)=>{\r\n      setModalTransaction({...modalTransaction,[e.target.name]:e.target.value})\r\n      console.log(modalTransaction)\r\n  }\r\n    \r\n    const onFormSubmit=(e)=>{\r\n      e.preventDefault();\r\n      insertTransactionData({variables:{seller:transaction.seller,buyer:transaction.buyer,seller_commission:transaction.seller_commission,buyer_commission:transaction.buyer_commission,advance_amount:transaction.advance_amount,amount_paid:transaction.amount_paid,pending_amount:transaction.pending_amount,rto_commission:transaction.rto_commission,reg_date:transaction.reg_date,transaction_date:transaction.transaction_date,vehicle:transaction.vehicle}});\r\n  }\r\n  const onModalFormSubmit=(e)=>{\r\n    e.preventDefault();\r\n    console.log(e.target[0].value);\r\n    updateTransactionData({variables:{id:modalTransaction.id,seller:modalTransaction.seller,buyer:modalTransaction.buyer,seller_commission:modalTransaction.seller_commission,buyer_commission:modalTransaction.buyer_commission,advance_amount:modalTransaction.advance_amount,amount_paid:modalTransaction.amount_paid,pending_amount:modalTransaction.pending_amount,rto_commission:modalTransaction.rto_commission,reg_date:modalTransaction.reg_date,transaction_date:modalTransaction.transaction_date,vehicle:modalTransaction.vehicle}});\r\n    handleClose();\r\n  }\r\n  const editTransaction=(transaction_data)=>{\r\n    setModalTransaction({\r\n      id:transaction_data.id,\r\n      seller:transaction_data.seller,\r\n      buyer:transaction_data.buyer,\r\n      seller_commission:transaction_data.seller_commission,\r\n      buyer_commission:transaction_data.buyer_commission,\r\n      advance_amount:transaction_data.advance_amount,\r\n      amount_paid:transaction_data.amount_paid,\r\n      pending_amount:transaction_data.pending_amount,\r\n      rto_commission:transaction_data.rto_commission,\r\n      reg_date:transaction_data.reg_date,\r\n      transaction_date:transaction_data.transaction_date,\r\n      vehicle:transaction_data.vehicle\r\n    })\r\n    handleShow();\r\n}\r\nconst deleteTransaction=(id)=>{\r\n  console.log(id);\r\n  deleteTransactionData({variables:{id:id}})\r\n}\r\n    const [deleteTransactionData,{deletedData}]=useMutation(DELETE_TRANSACTION);\r\n    const [updateTransactionData,{updatedData}]=useMutation(UPDATE_TRANSACTION);\r\n    const [insertTransactionData,{transactionData}]=useMutation(INSERT_TRANSACTION);\r\n    const stock = useQuery(StockQuery);\r\n    const seller = useQuery(SellerQuery);\r\n    const buyer = useQuery(BuyerQuery);\r\n    const { loading, error, data } = useSubscription(TransactionQuery);\r\n    if (loading || stock.loading) return <div style={{width:\"100%\",marginTop:'25%', textAlign:'center'}}><CircularProgress /></div>;\r\n    if (error) return `Error! ${error.message}`;\r\n    if (stock.error) return `Error1! ${stock.error.message}`;\r\n    \r\n    const columns = [\r\n        { \r\n            field: 'id', \r\n            headerName: 'ID', \r\n            width: 150,\r\n            hide:false, \r\n        },\r\n        {\r\n          field: \"seller\",\r\n          headerName: \"Seller Name\",\r\n          width: 160,\r\n          valueGetter: (params) => {\r\n            //console.log({ params });\r\n            let result = [];\r\n            if (params.row.sellerBySeller) {\r\n              if (params.row.sellerBySeller) {\r\n                result.push(params.row.sellerBySeller.name);\r\n              }\r\n              \r\n            } else {\r\n              result = [\"Unknown\"];\r\n            }\r\n            return result.join(\", \");\r\n          }\r\n        }\r\n        ,\r\n        {\r\n          field: \"buyer\",\r\n          headerName: \"Buyer Name\",\r\n          width: 160,\r\n          valueGetter: (params) => {\r\n            //console.log({ params });\r\n            let result = [];\r\n            if (params.row.buyerByBuyer) {\r\n              if (params.row.buyerByBuyer) {\r\n                result.push(params.row.buyerByBuyer.name);\r\n              }\r\n              \r\n            } else {\r\n              result = [\"Unknown\"];\r\n            }\r\n            return result.join(\", \");\r\n          }\r\n        },\r\n        {\r\n            field: 'seller_commission',\r\n            headerName: 'Seller Commission',\r\n            width: 150,\r\n            editable: false,\r\n          },\r\n          {\r\n            field: 'buyer_commission',\r\n            headerName: 'Buyer Commission',\r\n            width: 150,\r\n            editable: false,\r\n          },\r\n          {\r\n            field: 'advance_amount',\r\n            headerName: 'Advance Amount',\r\n            width: 150,\r\n            editable: false,\r\n          },\r\n          {\r\n            field: 'amount_paid',\r\n            headerName: 'Amount Paid',\r\n            width: 150,\r\n            editable: false,\r\n          },\r\n          {\r\n            field: 'pending_amount',\r\n            headerName: 'Pending Amount',\r\n            width: 150,\r\n            editable: false,\r\n          },\r\n        \r\n          {\r\n            field: 'rto_commission',\r\n            headerName: 'RTO Commission',\r\n            width: 150,\r\n            editable: false,\r\n          },\r\n          {\r\n            field: 'transaction_date',\r\n            headerName: 'Transaction Date',\r\n            width: 150,\r\n            editable: false,\r\n          },\r\n          {\r\n            field: 'reg_date',\r\n            headerName: 'Registered Date',\r\n            width: 150,\r\n            editable: false,\r\n          },\r\n          {\r\n            field: \"vehicle\",\r\n            headerName: \"Vehicle No\",\r\n            width: 160,\r\n            valueGetter: (params) => {\r\n              //console.log({ params });\r\n              let result = [];\r\n              if (params.row.stock) {\r\n                if (params.row.stock) {\r\n                  result.push(params.row.stock.vehicle_no);\r\n                }\r\n                \r\n              } else {\r\n                result = [\"Unknown\"];\r\n              }\r\n              return result.join(\", \");\r\n            }\r\n          },\r\n          {\r\n            field: 'action',\r\n            headerName: 'Action',\r\n            width: 300,\r\n            renderCell: (params) => {\r\n              return (\r\n                <div className=\"btn-group\">\r\n                <button data-toggle=\"tooltip\" title=\"Edit\" type=\"button\" className=\"btn btn-warning\" onClick={()=>{editTransaction(params.row)}} ><i className=\"fa fa-pencil\"></i></button>\r\n                <button data-toggle=\"tooltip\" title=\"Delete\" onClick={()=>{deleteTransaction(params.row.id)}} style={{marginLeft:'20%'}} className=\"btn btn-danger\"><i className=\"fa fa-trash\"></i></button>\r\n                \r\n                </div>\r\n              );\r\n           }\r\n          },\r\n      ];\r\n      console.log(stock.data.stock);\r\n      const rows=data.transaction;\r\n      \r\nreturn (\r\n    <div className=\"container\">\r\n      <Modal show={showModal} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Modal heading</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <div className=\"col-md-6\">\r\n                <form className=\"form-group\" onSubmit={e=>onModalFormSubmit(e)}>\r\n                    <div className=\"field\">\r\n                        <label>Transaction Id</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.id} className=\"form-control\" name=\"id\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Seller</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.seller} className=\"form-control\" name=\"seller\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Buyer</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.buyer} className=\"form-control\" name=\"buyer\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Seller Commission</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.seller_commission} className=\"form-control\" name=\"seller_commission\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Buyer Commission</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.buyer_commission} className=\"form-control\" name=\"buyer_commission\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Advance Amount</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.advance_amount} className=\"form-control\" name=\"advance_amount\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Amount Paid</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.amount_paid} className=\"form-control\" name=\"amount_paid\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Pending Amount</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.pending_amount} className=\"form-control\" name=\"pending_amount\" type=\"text\" />\r\n                    </div>\r\n                    \r\n                    <div className=\"field\">\r\n                        <label>RTO Commission</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.rto_commission} className=\"form-control\" name=\"rto_commission\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Registered Date</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.reg_date} className=\"form-control\" name=\"reg_date\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Transaction Date</label>\r\n                        <input onChange={(e)=>{onModalInputChange(e)}} defaultValue={modalTransaction.transaction_date} className=\"form-control\" name=\"transaction_date\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Vehicle</label>\r\n                        <select onChange={(e)=>{onModalInputChange(e)}} className=\"form-control\">\r\n                          <option>Select Vehicle</option>\r\n                          {stock.data.stock.map(vehicle=>(\r\n                                <option key={vehicle.id} value={vehicle.id}>{vehicle.vehicle_no}</option>\r\n                              ))}\r\n                        </select>  \r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <button className=\"btn btn-primary\">Save</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          \r\n        </Modal.Footer>\r\n      </Modal>\r\n        <div className=\"col-md-12\">\r\n              <form  onSubmit={(e)=>{onFormSubmit(e)}} className=\"form-group\">\r\n                  <div className=\"row\">\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Seller</label>\r\n                          <select onChange={e=>onInputChange(e)} className=\"form-control\" name=\"seller\">\r\n                              <option>Select Seller</option>\r\n                              {seller.data.seller.map(seller=>(\r\n                                <option key={seller.id} value={seller.id}>{seller.name}</option>\r\n                              ))}\r\n                          </select>\r\n                      </div>\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Buyer</label>\r\n                          <select onChange={e=>onInputChange(e)} className=\"form-control\" name=\"buyer\">\r\n                              <option>Select Buyer</option>\r\n                              {buyer.data.buyer.map(buyer=>(\r\n                                <option key={buyer.id} value={buyer.id}>{buyer.name}</option>\r\n                              ))}\r\n                          </select>\r\n                      </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Seller Commission</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"seller_commission\" type=\"text\" />\r\n                      </div>\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Buyer Commission</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"buyer_commission\" type=\"text\" />\r\n                      </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Advance Amount</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"advance_amount\" type=\"text\" />\r\n                      </div>\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Amount Paid</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"amount_paid\" type=\"text\" />\r\n                      </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Pending Amount</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"pending_amount\" type=\"text\" />\r\n                      </div>\r\n                      \r\n                  </div>\r\n                  <div className=\"row\">\r\n                      <div className=\"field col-md-6\">\r\n                          <label>RTO Commission</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"rto_commission\" type=\"text\" />\r\n                      </div>\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Registered Date</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"reg_date\" type=\"date\" />\r\n                      </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Transaction Date</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"transaction_date\" type=\"date\" />\r\n                      </div>\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Vehicle</label>\r\n                         \r\n                          <select onChange={e=>onInputChange(e)} className=\"form-control\" name=\"vehicle\">\r\n                              <option>Select Vehicle</option>\r\n                              {stock.data.stock.map(vehicle=>(\r\n                                <option key={vehicle.id} value={vehicle.id}>{vehicle.vehicle_no}</option>\r\n                              ))}\r\n                          </select>\r\n                      </div>\r\n                  </div>\r\n                  <div className=\"field\" style={{width:'100%', textAlign: 'center', marginTop: '20px'}}>\r\n                        <button className=\"btn btn-primary\">Save</button>\r\n                  </div>\r\n              </form>\r\n          </div>\r\n          <br />\r\n    <div style={{ height: 500, width: '100%' }}>\r\n      <DataGrid\r\n        rows={rows}\r\n        columns={columns}\r\n        pageSize={10}\r\n        rowsPerPageOptions={[10]}\r\n        checkboxSelection={false}\r\n        disableSelectionOnClick\r\n      />\r\n    </div>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default Transaction;\r\n\r\n\r\n\r\n","D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Vehicle_Registration.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\RTO_Agent.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Stolen.js",["102","103","104","105","106","107","108","109"],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\Sales_Report.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\Commision_Report.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\Insurance_Report.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\Vehicle_History.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Reporting\\PaperWork.js",[],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Utilities\\Customer.js",["110","111","112","113","114","115","116","117","118"],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Utilities\\RTO_Agent_Numbers.js",["119","120","121","122","123","124","125","126"],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Utilities\\Third_Party_Agent.js",["127","128","129","130","131","132","133"],"D:\\Mitharis\\my-app\\src\\Components\\NavItems\\Data_Entry\\Vehicle_Master.js",["134","135","136","137","138","139","140","141"],"import React,{useState} from 'react';\r\nimport {\r\n    useQuery,\r\n    gql,\r\n    useMutation,\r\n    useSubscription,\r\n    useLazyQuery\r\n  } from \"@apollo/client\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport { DataGrid } from '@material-ui/data-grid';\r\n//import { IconName } from \"react-icons/bs\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst VehicleMasterQuery=gql`\r\nsubscription MySubscription {\r\n    vehicle_master {\r\n      model\r\n      id\r\n      brand\r\n    }\r\n  }\r\n  `\r\n  // const VehicleMasterByPK=gql`\r\n  // query MyQuery2($id:Int!){\r\n  //   vehicle_master_by_pk(id:$id){\r\n\r\n  //     model\r\n  //     id\r\n  //     brand\r\n  //   }\r\n  // }\r\n  // `\r\n  const UPDATE_VEHICLE=gql`\r\n  mutation MyMutation2($id:Int!,$brand:String!,$model:String!){\r\n    update_vehicle_master_by_pk(pk_columns: {id: $id}, _set: {model: $model, brand: $brand}) {\r\n      brand\r\n      id\r\n      model\r\n    }\r\n  }`\r\n  const INSERT_VEHICLE=gql`\r\n  mutation MyMutation($model:String!,$brand:String!) {\r\n    insert_vehicle_master_one(object: {model: $model, brand: $brand}) {\r\n      model\r\n      id\r\n      brand\r\n    }\r\n  }\r\n  `\r\n  const DELETE_VEHICLE=gql`\r\n  mutation delete_mutation($id:Int!){\r\n    delete_vehicle_master_by_pk(id: $id) {\r\n        brand\r\n        id\r\n        model\r\n      }\r\n  }\r\n  `\r\n\r\nfunction Vehicle_Master()\r\n{\r\n    const [showModal, setShow] = useState(false);\r\n    const [vehicleId, setVehicleId] = useState();\r\n    const [vehicleBrand, setVehicleBrand] = useState();\r\n    const [vehicleModel, setVehicleModel] = useState();\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const [cars,setCars] = useState({\r\n        brand:\"\",\r\n        model:\"\"\r\n    })\r\n    const [modalcars,setModalCars] = useState({\r\n        brand:\"\",\r\n        model:\"\"\r\n    })\r\n    const onInputChange=(e)=>{\r\n        setCars({...cars,[e.target.name]:e.target.value})\r\n    }\r\n    const onModalInputChange=(e)=>{\r\n        setModalCars({...modalcars,[e.target.name]:e.target.value})\r\n        console.log(modalcars)\r\n    }\r\n    const onFormSubmit=(e)=>{\r\n        e.preventDefault();\r\n        insertVehicleData({variables:{model:cars.model,brand:cars.brand}});\r\n    }\r\n    const deleteVehicle=(id)=>{\r\n        console.log(id);\r\n        deleteVehicleData({variables:{id:id}})\r\n    }\r\n    const onModalFormSubmit=(e)=>{\r\n      e.preventDefault();\r\n      console.log(e.target[0].value);\r\n      updateVehicleData({variables:{id:e.target[0].value,brand:e.target[1].value,model:e.target[2].value}});\r\n      handleClose();\r\n    }\r\n    const editVehicle=(id,brand,model)=>{\r\n        console.log(id);\r\n        console.log(model);\r\n        console.log(brand);\r\n        setVehicleId(id);\r\n        setVehicleBrand(brand);\r\n        setVehicleModel(model);\r\n        handleShow();\r\n        //loadVehicle({ variables: { id:id } });\r\n        //console.log(data3);\r\n    }\r\n    const [updateVehicleData,{updatedData}]=useMutation(UPDATE_VEHICLE);\r\n    const [insertVehicleData,{carsData}]=useMutation(INSERT_VEHICLE);\r\n    const [deleteVehicleData,{deletedData}]=useMutation(DELETE_VEHICLE);\r\n    \r\n    const { loading, error, data } = useSubscription(VehicleMasterQuery);\r\n    // const [loadVehicle,{loading3,data3}] = useLazyQuery(VehicleMasterByPK,{\r\n    //   fetchPolicy: 'network-only',\r\n    // });\r\n    \r\n    \r\n    if (loading) return <div style={{width:\"100%\",marginTop:'25%', textAlign:'center'}}><CircularProgress /></div>;\r\n    if (error) return `Error! ${error.message}`;\r\n    \r\n    //console.log(data3)\r\n    const columns = [\r\n      { \r\n          field: 'id', \r\n          headerName: 'ID', \r\n          width: 150,\r\n          hide:false, \r\n        },\r\n      {\r\n        field: 'brand',\r\n        headerName: 'Brand',\r\n        width: 150,\r\n        editable: false,\r\n      },\r\n      {\r\n        field: 'model',\r\n        headerName: 'Model',\r\n        width: 150,\r\n        editable: false,\r\n      },\r\n      {\r\n        field: 'action',\r\n        headerName: 'Action',\r\n        width: 300,\r\n        renderCell: (params) => {\r\n          return (\r\n            <div className=\"btn-group\">\r\n            <button data-toggle=\"tooltip\" title=\"Edit\" type=\"button\" className=\"btn btn-warning\" onClick={()=>{editVehicle(params.row.id,params.row.brand,params.row.model)}} ><i className=\"fa fa-pencil\"></i></button>\r\n            <button data-toggle=\"tooltip\" title=\"Delete\" style={{marginLeft:'20%'}} className=\"btn btn-danger\" onClick={()=>{deleteVehicle(params.row.id)}}><i className=\"fa fa-trash\"></i></button>\r\n            \r\n            </div>\r\n          );\r\n       }\r\n      },\r\n    ];\r\n    //console.log(data3);\r\n    const rows=data.vehicle_master;\r\n    return(\r\n      <div className=\"container\">\r\n        <Modal show={showModal} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Modal heading</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <div className=\"col-md-4\">\r\n                <form className=\"form-group\" onSubmit={(e)=>{onModalFormSubmit(e)}}>\r\n                    <div className=\"field\">\r\n                        <label>Car Id</label>\r\n                        <input defaultValue={vehicleId} onChange={(e)=>{onModalInputChange(e)}} className=\"form-control\" name=\"brand\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Car Brand</label>\r\n                        <input defaultValue={vehicleBrand} onChange={(e)=>{onModalInputChange(e)}} className=\"form-control\" name=\"brand\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <label>Model</label>\r\n                        <input defaultValue={vehicleModel} onChange={(e)=>{onModalInputChange(e)}} className=\"form-control\" name=\"model\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <button className=\"btn btn-primary\">Save</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          \r\n        </Modal.Footer>\r\n      </Modal>\r\n          <div className=\"col-md-12\">\r\n              <form onSubmit={(e)=>{onFormSubmit(e)}} className=\"form-group\">\r\n                  <div className=\"row\">\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Car Brand</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"brand\" type=\"text\" />\r\n                      </div>\r\n\r\n                      <div className=\"field col-md-6\">\r\n                          <label>Model</label>\r\n                          <input onChange={e=>onInputChange(e)} className=\"form-control\" name=\"model\" type=\"text\" />\r\n                      </div>\r\n                  </div>\r\n                  <div className=\"field\" style={{width:'100%', textAlign: 'center', marginTop: '20px'}}>\r\n                        <button className=\"btn btn-primary\">Save</button>\r\n                  </div>\r\n              </form>\r\n          </div><br />\r\n    <div style={{ height: 500, width: '100%' }}>\r\n      <DataGrid\r\n        rows={rows}\r\n        columns={columns}\r\n        pageSize={10}\r\n        rowsPerPageOptions={[10]}\r\n        checkboxSelection={false}\r\n        disableSelectionOnClick\r\n      />\r\n    </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Vehicle_Master;\r\n\r\n\r\n",{"ruleId":"142","replacedBy":"143"},{"ruleId":"144","replacedBy":"145"},{"ruleId":"146","severity":1,"message":"147","line":3,"column":5,"nodeType":"148","messageId":"149","endLine":3,"endColumn":13},{"ruleId":"146","severity":1,"message":"150","line":7,"column":5,"nodeType":"148","messageId":"149","endLine":7,"endColumn":17},{"ruleId":"146","severity":1,"message":"151","line":9,"column":10,"nodeType":"148","messageId":"149","endLine":9,"endColumn":16},{"ruleId":"146","severity":1,"message":"152","line":9,"column":18,"nodeType":"148","messageId":"149","endLine":9,"endColumn":23},{"ruleId":"146","severity":1,"message":"153","line":9,"column":25,"nodeType":"148","messageId":"149","endLine":9,"endColumn":29},{"ruleId":"146","severity":1,"message":"154","line":108,"column":31,"nodeType":"148","messageId":"149","endLine":108,"endColumn":44},{"ruleId":"146","severity":1,"message":"155","line":109,"column":31,"nodeType":"148","messageId":"149","endLine":109,"endColumn":42},{"ruleId":"146","severity":1,"message":"156","line":110,"column":31,"nodeType":"148","messageId":"149","endLine":110,"endColumn":41},{"ruleId":"146","severity":1,"message":"157","line":177,"column":35,"nodeType":"148","messageId":"149","endLine":177,"endColumn":46},{"ruleId":"146","severity":1,"message":"155","line":178,"column":35,"nodeType":"148","messageId":"149","endLine":178,"endColumn":46},{"ruleId":"146","severity":1,"message":"158","line":179,"column":35,"nodeType":"148","messageId":"149","endLine":179,"endColumn":50},{"ruleId":"146","severity":1,"message":"147","line":3,"column":5,"nodeType":"148","messageId":"149","endLine":3,"endColumn":13},{"ruleId":"146","severity":1,"message":"150","line":7,"column":5,"nodeType":"148","messageId":"149","endLine":7,"endColumn":17},{"ruleId":"146","severity":1,"message":"151","line":9,"column":10,"nodeType":"148","messageId":"149","endLine":9,"endColumn":16},{"ruleId":"146","severity":1,"message":"152","line":9,"column":18,"nodeType":"148","messageId":"149","endLine":9,"endColumn":23},{"ruleId":"146","severity":1,"message":"153","line":9,"column":25,"nodeType":"148","messageId":"149","endLine":9,"endColumn":29},{"ruleId":"146","severity":1,"message":"159","line":79,"column":26,"nodeType":"148","messageId":"149","endLine":79,"endColumn":36},{"ruleId":"146","severity":1,"message":"155","line":80,"column":26,"nodeType":"148","messageId":"149","endLine":80,"endColumn":37},{"ruleId":"146","severity":1,"message":"156","line":81,"column":26,"nodeType":"148","messageId":"149","endLine":81,"endColumn":36},{"ruleId":"146","severity":1,"message":"160","line":1,"column":15,"nodeType":"148","messageId":"149","endLine":1,"endColumn":23},{"ruleId":"146","severity":1,"message":"147","line":3,"column":5,"nodeType":"148","messageId":"149","endLine":3,"endColumn":13},{"ruleId":"146","severity":1,"message":"161","line":5,"column":5,"nodeType":"148","messageId":"149","endLine":5,"endColumn":16},{"ruleId":"146","severity":1,"message":"150","line":7,"column":5,"nodeType":"148","messageId":"149","endLine":7,"endColumn":17},{"ruleId":"146","severity":1,"message":"151","line":9,"column":10,"nodeType":"148","messageId":"149","endLine":9,"endColumn":16},{"ruleId":"146","severity":1,"message":"152","line":9,"column":18,"nodeType":"148","messageId":"149","endLine":9,"endColumn":23},{"ruleId":"146","severity":1,"message":"153","line":9,"column":25,"nodeType":"148","messageId":"149","endLine":9,"endColumn":29},{"ruleId":"146","severity":1,"message":"162","line":12,"column":10,"nodeType":"148","messageId":"149","endLine":12,"endColumn":15},{"ruleId":"146","severity":1,"message":"163","line":12,"column":17,"nodeType":"148","messageId":"149","endLine":12,"endColumn":23},{"ruleId":"146","severity":1,"message":"147","line":3,"column":5,"nodeType":"148","messageId":"149","endLine":3,"endColumn":13},{"ruleId":"146","severity":1,"message":"150","line":7,"column":5,"nodeType":"148","messageId":"149","endLine":7,"endColumn":17},{"ruleId":"146","severity":1,"message":"151","line":9,"column":10,"nodeType":"148","messageId":"149","endLine":9,"endColumn":16},{"ruleId":"146","severity":1,"message":"152","line":9,"column":18,"nodeType":"148","messageId":"149","endLine":9,"endColumn":23},{"ruleId":"146","severity":1,"message":"153","line":9,"column":25,"nodeType":"148","messageId":"149","endLine":9,"endColumn":29},{"ruleId":"146","severity":1,"message":"156","line":94,"column":33,"nodeType":"148","messageId":"149","endLine":94,"endColumn":43},{"ruleId":"146","severity":1,"message":"164","line":95,"column":33,"nodeType":"148","messageId":"149","endLine":95,"endColumn":43},{"ruleId":"146","severity":1,"message":"165","line":96,"column":33,"nodeType":"148","messageId":"149","endLine":96,"endColumn":43},{"ruleId":"146","severity":1,"message":"147","line":3,"column":5,"nodeType":"148","messageId":"149","endLine":3,"endColumn":13},{"ruleId":"146","severity":1,"message":"150","line":7,"column":5,"nodeType":"148","messageId":"149","endLine":7,"endColumn":17},{"ruleId":"146","severity":1,"message":"151","line":9,"column":10,"nodeType":"148","messageId":"149","endLine":9,"endColumn":16},{"ruleId":"146","severity":1,"message":"152","line":9,"column":18,"nodeType":"148","messageId":"149","endLine":9,"endColumn":23},{"ruleId":"146","severity":1,"message":"153","line":9,"column":25,"nodeType":"148","messageId":"149","endLine":9,"endColumn":29},{"ruleId":"146","severity":1,"message":"156","line":96,"column":29,"nodeType":"148","messageId":"149","endLine":96,"endColumn":39},{"ruleId":"146","severity":1,"message":"165","line":98,"column":29,"nodeType":"148","messageId":"149","endLine":98,"endColumn":39},{"ruleId":"146","severity":1,"message":"147","line":3,"column":5,"nodeType":"148","messageId":"149","endLine":3,"endColumn":13},{"ruleId":"146","severity":1,"message":"150","line":7,"column":5,"nodeType":"148","messageId":"149","endLine":7,"endColumn":17},{"ruleId":"146","severity":1,"message":"151","line":9,"column":10,"nodeType":"148","messageId":"149","endLine":9,"endColumn":16},{"ruleId":"146","severity":1,"message":"152","line":9,"column":18,"nodeType":"148","messageId":"149","endLine":9,"endColumn":23},{"ruleId":"146","severity":1,"message":"153","line":9,"column":25,"nodeType":"148","messageId":"149","endLine":9,"endColumn":29},{"ruleId":"146","severity":1,"message":"155","line":109,"column":31,"nodeType":"148","messageId":"149","endLine":109,"endColumn":42},{"ruleId":"146","severity":1,"message":"166","line":110,"column":31,"nodeType":"148","messageId":"149","endLine":110,"endColumn":39},{"ruleId":"146","severity":1,"message":"157","line":111,"column":31,"nodeType":"148","messageId":"149","endLine":111,"endColumn":42},"no-native-reassign",["167"],"no-negated-in-lhs",["168"],"no-unused-vars","'useQuery' is defined but never used.","Identifier","unusedVar","'useLazyQuery' is defined but never used.","'Switch' is defined but never used.","'Route' is defined but never used.","'Link' is defined but never used.","'insuranceData' is assigned a value but never used.","'updatedData' is assigned a value but never used.","'deleteData' is assigned a value but never used.","'deletedData' is assigned a value but never used.","'transactionData' is assigned a value but never used.","'stolenData' is assigned a value but never used.","'useState' is defined but never used.","'useMutation' is defined but never used.","'Modal' is defined but never used.","'Button' is defined but never used.","'updateData' is assigned a value but never used.","'insertData' is assigned a value but never used.","'carsData' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]